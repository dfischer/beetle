// Table of command-line options
//
// Copyright (c) 2009-2018 Reuben Thomas
//
// The package is distributed under the GNU Public License version 3, or,
// at your option, any later version.
//
// THIS PROGRAM IS PROVIDED AS IS, WITH NO WARRANTY. USE IS AT THE USERâ€˜S
// RISK.

// D: documentation line
// O: Option
// A: Action
//
// D(text)
// O(long name, short name ('\0' for none), argument, argument docstring, docstring)
// A(argument, docstring)

#include "stringify.h"

#define MEMORY_MESSAGE(type, max, def) \
  "set " type " size to the given NUMBER of cells\n"                    \
  "                            0 < NUMBER <= " str(max) " [default " str(def) "]"
O("memory", 'm', required_argument, "NUMBER", MEMORY_MESSAGE("memory", MAX_MEMORY, DEFAULT_MEMORY))
O("stack", 's', required_argument, "NUMBER", MEMORY_MESSAGE("data stack", MAX_STACK_SIZE, DEFAULT_STACK_SIZE))
O("return-stack", 'r', required_argument, "NUMBER", MEMORY_MESSAGE("return stack", MAX_STACK_SIZE, DEFAULT_STACK_SIZE))
O("debug", 'd', no_argument, "", "enter debugger on exception")
O("help", '\0', no_argument, "", "display this help message and exit")
O("version", '\0', no_argument, "", "display version information and exit")
A("FILE", "load and run object FILE")
D("")
D("The ARGUMENTs are available to Beetle.")
D("")
D("If no non-option arguments are given, Beetle starts in the debugger,")
D("which is documented in @docdir@/debugger.pdf.")
D("")
D("Report bugs to " PACKAGE_BUGREPORT ".")
